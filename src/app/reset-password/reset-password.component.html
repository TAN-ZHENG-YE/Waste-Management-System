<body>
  <div class="container">
    <div *ngIf="!tokenInvalid">
      <h2>Reset Your Password</h2>
      <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
        <div class="input-group">
          <input type="password" formControlName="password" placeholder="New Password">
          <div class="error-message" *ngIf="resetForm.get('password')?.hasError('required') && resetForm.get('password')?.touched">
            Password is required
          </div>
          <div class="error-message" *ngIf="resetForm.get('password')?.hasError('minlength') && resetForm.get('password')?.touched">
            Password must be at least 8 characters
          </div>
        </div>

        <div class="input-group">
          <input type="password" formControlName="confirmPassword" placeholder="Confirm Password">
          <div class="error-message" *ngIf="resetForm.get('confirmPassword')?.hasError('required') && resetForm.get('confirmPassword')?.touched">
            Please confirm your password
          </div>
          <div class="error-message" *ngIf="resetForm.get('confirmPassword')?.hasError('passwordMismatch') && resetForm.get('confirmPassword')?.touched">
            Passwords do not match
          </div>
        </div>

        <button type="submit" [disabled]="resetForm.invalid || isLoading">
          {{ isLoading ? 'Resetting...' : 'Reset Password' }}
        </button>
      </form>
    </div>

    <div class="error-box" *ngIf="tokenInvalid">
      <h2>Invalid or Expired Link</h2>
      <p>This password reset link is invalid or has expired.</p>
      <button routerLink="/forgot-password">Request New Reset Link</button>
    </div>
  </div>
</body>
  